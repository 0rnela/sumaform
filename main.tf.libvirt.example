provider "libvirt" {
  uri = "qemu:///system"
}

module "network" {
  source = "./modules/libvirt/network"
}

module "images" {
  source = "./modules/libvirt/images"
}

module "suma3pg" {
  source = "./modules/libvirt/suse_manager"
  cc_username = "UC7"
  cc_password = // add password here
  name = "suma3pg"
  
  // see modules/libvirt/suse_manager/variables.tf for possible values
  version = "3-nightly"
}

module "clisles12sp1" {
  source = "./modules/libvirt/client"
  name = "clisles12sp1"

  // see modules/libvirt/client/variables.tf for possible values
  image = "sles12sp1"
  server = "${module.suma3pg.hostname}"
  count = 1
}

module "minionsles12sp1" {
  source = "./modules/libvirt/minion"
  name = "minionsles12sp1"

  // see modules/libvirt/minion/variables.tf for possible values
  image = "sles12sp1"
  server = "${module.suma3pg.hostname}"
  count = 1
}
